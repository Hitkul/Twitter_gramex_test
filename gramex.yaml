# Generated by gramex init on 2018-09-08 by karmanya.aggarwal <karmanya.aggarwal@gramener.com>. Please retain this line.
# Generated by gramex init on 2018-08-31 by tejesh.p <tejesh.p@gramener.com>. Please retain this line.
import:
  ui:
    path: $GRAMEXAPPS/ui/gramex.yaml    # Import the UI components
    YAMLURL: $YAMLURL/ui/               # ... at this URL

url:
    login/twitter:
      pattern: /$YAMLURL/twogin/  # Map this URL
      handler: TwitterAuth        # to the TwitterAuth handler
      kwargs:
          key: ...             # Set your app key
          secret: ...
    twitterresthandler/twitter-open:
      pattern: /$YAMLURL/twitter-open/(.*)
      handler: TwitterRESTHandler
      kwargs:
          # Gramener > Gramex guide app: https://apps.twitter.com/app/12449610/keys
        key: ...
        secret: ...
        # Hard-code the access key for the demo
        access_key: ...
        access_secret: ...
    twitter-some-bullshit:
      pattern: /$YAMLURL/anypattern/
      handler: FunctionHandler
      thread: true # Runs this in async
      kwargs:
        function: app.get_followers(data, handler)

    twitter:
      pattern: /$YAMLURL/twitter/(.*)
      handler: TwitterRESTHandler
      kwargs:
        # Visit https://apps.twitter.com/ to get these keys
        key: ...
        secret: ...
        access_key: ...
        access_secret: ...
        transform:
          tweet_info:
            function: app.tweet_info
      redirect:
        header: Referer
        url: /$YAMLURL/

    test_handler_data:
      pattern: /$YAMLURL/test/
      handler: FunctionHandler
      kwargs:
        function: repr(handler.session)
        # headers:
          # Content-Type: application/json

